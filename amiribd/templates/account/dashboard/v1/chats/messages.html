{% load static humanize value_filter rooms %}
<div class="fade-in-up" id="chat_messages" hx-swap-oob="beforeend">
  {% if message.profile != request.user.profile_user %}
    <div class="chat is-you">
      <div class="chat-avatar">
        <div class="user-avatar bg-purple">
          <span>{{message.profile.initials}}</span>
        </div>
      </div>
      <div class="chat-content">
        <div class="chat-bubbles">
          <div class="chat-bubble">
            <div class="chat-msg">{{message.message}}</div>
          </div>
        </div>
        <ul class="chat-meta">
          <li>{{message.created_at|date:"g:i A"}}</li>
        </ul>
      </div>
    </div>
  {% endif %}
  {% if message.profile == request.user.profile_user %}
    <div class="chat is-me">
      <div class="chat-content">
        <div class="chat-bubbles">
          <div class="chat-bubble">
            <div class="chat-msg">{{message.message}}</div>
            <ul class="chat-msg-more">
              <li class="d-none d-sm-block">
                <a href="#" class="btn btn-icon btn-sm btn-trigger">
                  <em class="icon ni ni-reply-fill"></em>
                </a>
              </li>
              <li>
                <div class="dropdown">
                  <a href="#" class="btn btn-icon btn-sm btn-trigger dropdown-toggle" data-bs-toggle="dropdown">
                    <em class="icon ni ni-more-h"></em>
                  </a>
                  <div class="dropdown-menu dropdown-menu-sm">
                    <ul class="link-list-opt no-bdr">
                      <li class="d-sm-none">
                        <a href="#">
                          <em class="icon ni ni-reply-fill"></em>
                          Reply</a>
                      </li>
                      <li>
                        <a href="#">
                          <em class="icon ni ni-pen-alt-fill"></em>
                          Edit</a>
                      </li>
                      <li>
                        <a href="#">
                          <em class="icon ni ni-trash-fill"></em>
                          Remove</a>
                      </li>
                    </ul>
                  </div>
                </div>
              </li>
            </ul>
          </div>
        </div>
        <ul class="chat-meta">
          <li>{{message.created_at|date:"g:i A"}}</li>
        </ul>
      </div>
    </div>
  {% endif %}
</div>

<style>
  @keyframes fadeInAndUp {
    from {
      opacity: 0;
      transform: translateY(13px);
    }

    to {
      opacity: 1;
      transform: translateY(0px);
    }
  }

  .fade-in-up {
    animation: fadeInAndUp 0.6s ease;
  }
</style>
