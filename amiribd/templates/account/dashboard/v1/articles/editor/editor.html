{% extends "account/dashboard/v1/articles/editor/base.html" %} {% block main %}

<div class="card">
  <div class="nk-editor">
    <div class="nk-editor-header">
      <div class="nk-editor-title">
        <h4 class="me-3 mb-0 line-clamp-1">2023-02-03 Untitled</h4>
        <ul class="d-inline-flex align-item-center">
          <li>
            <button class="btn btn-sm btn-icon btn-trigger">
              <em class="icon ni ni-pen"></em>
            </button>
          </li>
          <li>
            <button class="btn btn-sm btn-icon btn-trigger">
              <em class="icon ni ni-star"></em>
            </button>
          </li>
          <li class="d-xl-none">
            <div class="dropdown">
              <button
                class="btn btn-sm btn-icon btn-trigger"
                type="button"
                data-bs-toggle="dropdown"
              >
                <em class="icon ni ni-download-cloud"></em>
              </button>
              <div class="dropdown-menu dropdown-menu-sm dropdown-menu-end">
                <div class="dropdown-content">
                  <ul class="link-list-opt">
                    <li>
                      <a href="#">
                        <em class="icon ni ni-file-docs"></em>
                        <span>Docs</span></a
                      >
                    </li>
                    <li>
                      <a href="#">
                        <em class="icon ni ni-file-text"></em>
                        <span>Text</span></a
                      >
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </li>
          <li class="d-xl-none ms-1">
            <button class="btn btn-sm btn-icon btn-primary">
              <em class="icon ni ni-save"></em>
            </button>
          </li>
        </ul>
      </div>
      <div class="nk-editor-tools d-none d-xl-flex">
        <ul class="d-inline-flex gx-3 gx-lg-4 pe-4 pe-lg-5">
          <li>
            <span class="sub-text text-nowrap"
              >Words <span class="text-dark">25</span></span
            >
          </li>
          <li>
            <span class="sub-text text-nowrap"
              >Characters <span class="text-dark">84</span></span
            >
          </li>
        </ul>
        <ul class="d-inline-flex gx-3">
          <li>
            <div class="dropdown">
              <button
                class="btn btn-md btn-light rounded-pill"
                type="button"
                data-bs-toggle="dropdown"
              >
                <span>Export</span>
                <em class="icon ni ni-chevron-down"></em>
              </button>
              <div class="dropdown-menu dropdown-menu-sm dropdown-menu-end">
                <div class="dropdown-content">
                  <ul class="link-list-opt">
                    <li>
                      <a href="#">
                        <em class="icon ni ni-file-doc"></em>
                        <span>Docs</span></a
                      >
                    </li>
                    <li>
                      <a href="#">
                        <em class="icon ni ni-file-text"></em>
                        <span>Text</span></a
                      >
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </li>
          <li>
            <button class="btn btn-md btn-primary rounded-pill" type="button">
              Save
            </button>
          </li>
        </ul>
      </div>
    </div>
    <div class="nk-editor-main">
      <div class="nk-editor-base">
        <ul class="nav nav-tabs nav-sm nav-tabs-s1 px-3" role="tablist">
          <li class="nav-item" role="presentation">
            <a
              class="nav-link active"
              data-bs-toggle="tab"
              href="#AIWriter"
              aria-selected="true"
              role="tab"
              >AI Writer</a
            >
          </li>
          <li class="nav-item" role="presentation">
            <a
              class="nav-link"
              data-bs-toggle="tab"
              href="#History"
              aria-selected="false"
              tabindex="-1"
              role="tab"
              >History</a
            >
          </li>
        </ul>
        <div class="tab-content mt-0">
          {% include "account/dashboard/v1/articles/editor/tabs/ai.html" %}
          
          {%  include "account/dashboard/v1/articles/editor/tabs/history.html" %}
        </div>
      </div>
      <div class="nk-editor-body">
        <div class="tinymce-toolbar nk-editor-style-clean nk-editor-full p-4">
          <!--Body content-->
          <!-- Create the editor container -->

          <!-- Use simpler CSS and HTML structure if you do not want to integrate i.e. the Revision history feature. !-->
          <div id="presence-list-container"></div>

          <div id="editor-container">
            <div class="container">
              <div id="outline" class="document-outline-container"></div>
              <div class="sidebar" id="sidebar"></div>
              <form method="POST">
                {% csrf_token %} {{form.media}} {{form.content}}
                <input type="submit" value="Submit article" />
              </form>
            </div>
          </div>

          <div id="revision-viewer-container">
            <div class="container">
              <div id="revision-viewer-editor"></div>
              <div class="sidebar" id="revision-viewer-sidebar"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.ckbox.io/CKBox/2.4.0/ckbox.js"></script>
{% comment %}
<script src="https://cdn.ckeditor.com/ckeditor5/41.2.0/super-build/ckeditor.js"></script>
{% endcomment %}

<script>
  function getCookie(name) {
    let cookieValue = null;
    if (document.cookie && document.cookie !== "") {
      const cookies = document.cookie.split(";");
      for (let i = 0; i < cookies.length; i++) {
        const cookie = cookies[i].trim();
        if (cookie.substring(0, name.length + 1) === name + "=") {
          cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
          break;
        }
      }
    }
    return cookieValue;
  }
</script>

{% endblock main %}
